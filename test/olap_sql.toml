sets = [
    {name = "realtime_ad", type = "clickhouse", description = "实时广告数据", schema = { primary_id = 1,  secondary = [
        {data_source_id1 = 1, data_source_id2 = 2, join_on = [
            {dimension_id1 = 3, dimension_id2 = 13 },
            {dimension_id1 = 2, dimension_id2 = 16 },
        ]},
        {data_source_id1 = 2, data_source_id2 = 3, join_on = [
            {dimension_id1 = 17, dimension_id2 = 18 }
        ]},
        {data_source_id1 = 2, data_source_id2 = 6, join_on = [
            {dimension_id1 = 38, dimension_id2 = 40 },
        ]},
    ]}},
    {name ="material_report", type = "clickhouse", description = "素材报表数据", schema = { primary_id = 4, secondary = [
        {data_source_id1 = 4, data_source_id2 = 2, join_on = [
            {dimension_id1 = 23, dimension_id2 = 13 },
            {dimension_id1 = 22, dimension_id2 = 16 }
        ]},
        {data_source_id1 = 2, data_source_id2 = 3, join_on = [
            {dimension_id1 = 17, dimension_id2 = 18 }
        ]},
    ]}},
    {name = "offline_report", type = "clickhouse", description = "离线数据报表", schema = { primary_id = 5, secondary = []}}
]

sources =[
    {id = 1, type =  "DATA_SOURCE_CLICKHOUSE", name =  "report_dist", description =  "实时广告数据底表" },
    {id = 2, type =  "DATA_SOURCE_CLICKHOUSE", database = "martech", name =  "advertisers", description =  "广告账户数据维表"},
    {id = 3, type =  "DATA_SOURCE_CLICKHOUSE", database = "martech", name =  "agencies", description =  "代理商数据维表" },
    {id = 4, type =  "DATA_SOURCE_CLICKHOUSE", name =  "material_report_dist", description =  "实时素材数据底表" },
    {id = 5, type =  "DATA_SOURCE_CLICKHOUSE", name =  "t_ed_weishi_channel_pullalive_consume_retain_di", description =  "拉活数据整合报表" },
    {id = 6, type =  "DATA_SOURCE_CLICKHOUSE", database = "martech", name =  "users", description =  "用户数据维表" },
    {id = 7, type =  "DATA_SOURCE_CLICKHOUSE", name =  "attribution_report_dist", description = "归因数据报表"}
]

metrics = [
    {id = 1, type = "METRIC_SUM", name = "cost", field_name = "cost", value_type = "VALUE_FLOAT", composition = { metric_id = []}, data_source_id = 1, description = "消耗" },
    {id = 2, type = "METRIC_SUM", name = "activated_count", field_name = "activated_count", value_type = "VALUE_FLOAT", composition = { metric_id = []}, data_source_id = 1, description = "APP激活总量" },
    {id = 3, type = "METRIC_DIVIDE", name = "activated_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id = [1, 2] }, data_source_id = 1, description = "APP激活成本" },
    {id = 4, type = "METRIC_SUM", name = "retention_count", field_name = "retention_count", value_type = "VALUE_FLOAT", composition = { metric_id = [] }, data_source_id = 1, description = "次日留存人数(APP)"},
    {id = 5, type = "METRIC_DIVIDE", name = "retention_cost", field_name = "", value_type = "VALUE_FLOAT", composition = { metric_id = [1, 4] }, data_source_id = 1, description = "次日留存成本" },
    {id = 6, type = "METRIC_SUM", name = "view_count", field_name = "view_count", value_type = "VALUE_FLOAT", composition = { metric_id = [] }, data_source_id = 1, description = "曝光量" },
    {id = 7, type= "METRIC_SUM", name= "click_count", field_name= "valid_click_count", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 1, description= "点击量" },
    {id = 8, type= "METRIC_SUM", name= "conversion_count", field_name= "conversion_count", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 1, description= "目标转化量" },
    {id = 9, type= "METRIC_DIVIDE", name= "conversion_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [1, 8] }, data_source_id= 1, description= "目标转化成本" },
    {id = 10, type= "METRIC_EXPRESSION", name= "thousand_cost", field_name= "1.0* SUM( `report_dist`.`cost` * 1000 )", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 1, description= "千次消耗" },
    {id = 11, type= "METRIC_DIVIDE", name= "cpm", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [10, 6] }, data_source_id= 1, description= "千次展示平均消耗" },
    {id = 12, type= "METRIC_DIVIDE", name= "cpc", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [1, 7] }, data_source_id= 1, description= "点击平均消耗" },
    {id = 13, type= "METRIC_DIVIDE", name= "ctr", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [7, 6] }, data_source_id= 1, description= "点击率" },
    {id = 14, type= "METRIC_DIVIDE", name= "cvr", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [2, 7] }, data_source_id= 1, description= "转化率" },
    {id = 15, type= "METRIC_SUM", name= "cost", field_name= "cost", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 4, description= "消耗" },
    {id = 16, type= "METRIC_SUM", name= "activated_count", field_name= "activated_count", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 4, description= "APP激活总量" },
    {id = 17, type= "METRIC_SUM", name= "retention_count", field_name= "retention_count", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 4, description= "次日留存人数(APP)" },
    {id = 18, type= "METRIC_SUM", name= "view_count", field_name= "view_count", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 4, description= "曝光量" },
    {id = 19, type= "METRIC_SUM", name= "click_count", field_name= "valid_click_count", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 4, description= "点击量" },
    {id = 20, type= "METRIC_SUM", name= "conversion_count", field_name= "conversion_count", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 4, description= "目标转化量" },
    {id = 21, type= "METRIC_DIVIDE", name= "activated_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [15, 16] }, data_source_id= 4, description= "APP激活成本" },
    {id = 22, type= "METRIC_DIVIDE", name= "retention_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [15, 17] }, data_source_id= 4, description= "次日留存成本" },
    {id = 23, type= "METRIC_DIVIDE", name= "conversion_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [15, 20] }, data_source_id= 4, description= "目标转化成本" },
    {id = 24, type= "METRIC_EXPRESSION", name= "thousand_cost", field_name= "1.0* SUM( `material_report_dist`.`cost` * 1000 )", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 4, description= "千次消耗" },
    {id = 25, type= "METRIC_DIVIDE", name= "cpm", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [24, 18] }, data_source_id= 4, description= "千次展示平均消耗" },
    {id = 27, type= "METRIC_DIVIDE", name= "cpc", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [15, 19] }, data_source_id= 4, description= "点击平均消耗" },
    {id = 28, type= "METRIC_DIVIDE", name= "ctr", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [19, 18] }, data_source_id= 4, description= "点击率" },
    {id = 29, type= "METRIC_DIVIDE", name= "cvr", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [16, 19] }, data_source_id= 4, description= "转化率" },
    {id = 30, type= "METRIC_SUM", name= "user_cnt", field_name= "user_cnt", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "结算渠道拉活用户数" },
    {id = 31, type= "METRIC_SUM", name= "settle_user_cnt", field_name= "settle_user_cnt", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "首启付费用户数" },
    {id = 33, type= "METRIC_SUM", name= "only_call_uv", field_name= "only_call_uv", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "仅启付费用户数" },
    {id = 34, type= "METRIC_SUM", name= "session_only_call_uv", field_name= "session_only_call_uv", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "session仅启付费用户数" },
    {id = 35, type= "METRIC_SUM", name= "new_cost", field_name= "new_cost", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 5, description= "拉活消耗" },
    {id = 36, type= "METRIC_SUM", name= "play_vv_begin_uv", field_name= "play_vv_begin_uv", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "播放人数" },
    {id = 37, type= "METRIC_SUM", name= "all_user_cnt", field_name= "all_user_cnt", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "总用户数" },
    {id = 38, type= "METRIC_DIVIDE", name= "user_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [30, 37] }, data_source_id= 5, description= "结算拉活用户占比大盘" },
    {id = 63, type= "METRIC_DIVIDE", name= "avg_user_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [35, 30] }, data_source_id= 5, description= "首启用户单价" },
    {id = 64, type= "METRIC_DIVIDE", name= "avg_settle_user_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [35, 31] }, data_source_id= 5, description= "首启付费用户单价" },
    {id = 65, type= "METRIC_DIVIDE", name= "avg_only_call_user_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [35, 33] }, data_source_id= 5, description= "仅启付费用户单价" },
    {id = 66, type= "METRIC_DIVIDE", name= "play_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [36, 30] }, data_source_id= 5, description= "播放率" },
    {id = 67, type= "METRIC_SUM", name= "settle_play_vv_begin", field_name= "settle_play_vv_begin", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "首启总vv" },
    {id = 68, type= "METRIC_DIVIDE", name= "avg_play_vv", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [67, 31] }, data_source_id= 5, description= "首启人均vv" },
    {id = 69, type= "METRIC_SUM", name= "settle_video_play_time",field_name= "settle_video_play_time", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "首启总播放时长" },
    {id = 70, type= "METRIC_DIVIDE", name= "avg_play_time", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [69, 31] }, data_source_id= 5, description= "首启人均播放时长" },
    {id = 71, type= "METRIC_SUM", name= "settle_log_time", field_name= "settle_log_time", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "首启登录总时长" },
    {id = 72, type= "METRIC_DIVIDE", name= "avg_log_time", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [71, 31] }, data_source_id= 5, description= "首启人均登录时长" },
    {id = 73, type= "METRIC_EXPRESSION", name= "session_only_log_time_sum", field_name= "1.0 * SUM( `t_ed_weishi_channel_pullalive_consume_retain_di`.`session_only_log_time` / 60000 )", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 5, description= "session仅启登录总时长" },
    {id = 77, type= "METRIC_DIVIDE", name= "avg_session_only_log_time", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [73, 34] }, data_source_id= 5, description= "session仅启人均登录时长" },
    {id = 78, type= "METRIC_SUM", name= "retain_1d_cnt", field_name= "retain_1d_cnt", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "次日留存" },
    {id = 79, type= "METRIC_SUM", name= "retain_3d_cnt", field_name= "retain_3d_cnt", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "三日留存" },
    {id = 80, type= "METRIC_SUM", name= "retain_7d_cnt", field_name= "retain_7d_cnt", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "7日留存" },
    {id = 81, type= "METRIC_SUM", name= "retain_14d_cnt", field_name= "retain_14d_cnt", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "14日留存" },
    {id = 82, type= "METRIC_SUM", name= "retain_28d_cnt", field_name= "retain_28d_cnt", value_type= "VALUE_INTEGER", composition= { metric_id= [] }, data_source_id= 5, description= "28日留存" },
    {id = 83, type= "METRIC_DIVIDE", name= "retain_1d_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [78, 30] }, data_source_id= 5, description= "次日留存率" },
    {id = 84, type= "METRIC_DIVIDE", name= "retain_3d_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [79, 30] }, data_source_id= 5, description= "3日留存率" },
    {id = 85, type= "METRIC_DIVIDE", name= "retain_7d_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [80, 30]},data_source_id= 5,description= "7日留存率" },
    {id = 86, type= "METRIC_DIVIDE", name= "retain_14d_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [81, 30] }, data_source_id= 5, description= "14日留存率" },
    {id = 87, type= "METRIC_DIVIDE", name= "retain_28d_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [82, 30] }, data_source_id= 5, description= "28日留存率"},
    {id = 88, type= "METRIC_DIVIDE", name= "avg_log_time_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [35, 71] }, data_source_id= 5, description= "首启登录时长付费用户单价" },
    {id = 89, type= "METRIC_DIVIDE", name= "avg_vv_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [35, 67] }, data_source_id= 5, description= "首启vv付费用户单价" },
    {id = 90, type= "METRIC_SUM", name= "first_day_monetization_amount", field_name= "first_day_monetization_amount", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 1, description= "首日广告变现金额" },
    {id = 91, type= "METRIC_DIVIDE", name= "first_day_monetization_roi", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [90, 1] }, data_source_id= 1, description= "首日广告变现ROI" },
    {id = 92, type= "METRIC_SUM", name= "first_day_pay_amount", field_name= "first_day_pay_amount", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 1,description= "激活首日付费金额" },
    {id = 93, type= "METRIC_DIVIDE", name= "first_day_pay_roi", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [92, 1] }, data_source_id= 1, description= "首日广告花费回报ROI" },
    {id = 94, type= "METRIC_SUM", name= "first_day_monetization_count", field_name= "first_day_monetization_count", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 1, description= "首日广告变现人数" },
    {id = 95, type= "METRIC_SUM", name= "first_day_pay_count", field_name= "first_day_pay_count", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 1, description= "激活首日付费人数" },
    {id = 96, type= "METRIC_DIVIDE", name= "first_day_pay_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [95, 2] }, data_source_id= 1, description= "激活首日付费率" },
    {id = 97, type= "METRIC_DIVIDE", name= "first_day_monetization_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [94, 2]}, data_source_id= 1, description= "首日广告变现渗透率"},
    {id = 98, type= "METRIC_DIVIDE", name= "retention_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [4, 2] }, data_source_id= 1, description= "次日留存率" },
    {id = 99, type= "METRIC_SUM", name= "mini_game_register_users", field_name= "mini_game_register_users", value_type= "VALUE_FLOAT", composition= { metric_id= [] }, data_source_id= 1, description= "小游戏注册人数" },
    {id = 100, type= "METRIC_DIVIDE", name= "mini_game_register_cost", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [1, 99] }, data_source_id= 1, description= "小游戏注册成本" },
    {id = 101, type= "METRIC_DIVIDE", name= "mini_game_register_rate", field_name= "", value_type= "VALUE_FLOAT", composition= { metric_id= [99, 7] }, data_source_id= 1, description= "小游戏注册率" },
    {id = 102, type= "METRIC_SUM" , name= "mini_game_paying_count" , field_name= "mini_game_paying_count" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏付费次数" } ,
    {id = 103, type= "METRIC_SUM", name= "mini_game_paying_amount", field_name= "mini_game_paying_amount", value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏付费金额" },
    {id = 104, type= "METRIC_SUM" , name= "mini_game_paying_users_d1" , field_name= "mini_game_paying_users_d1" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏首日付费人数" },
    {id = 105, type= "METRIC_SUM" , name= "mini_game_paying_amount_d1" , field_name= "mini_game_paying_amount_d1" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏首日付费金额"},
    {id = 106, type= "METRIC_SUM" , name= "mini_game_first_paying_users" , field_name= "mini_game_first_paying_users" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏首次付费人数" },
    {id = 107, type= "METRIC_DIVIDE" , name= "mini_game_first_day_paying_roi" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [105 ,1] } , data_source_id= 1 , description= "小游戏首日付费ROI" },
    {id = 108, type= "METRIC_SUM" , name= "mini_game_paying_amount_d1_by_upload" , field_name= "mini_game_paying_amount_d1_by_upload" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏首日付费金额（平台上报）" },
    {id = 109, type= "METRIC_SUM" , name= "mini_game_paying_amount_by_upload" , field_name= "mini_game_paying_amount_by_upload" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏付费金额（平台上报）" },
    {id = 110, type= "METRIC_SUM" , name= "mini_game_paying_count_by_upload" , field_name= "mini_game_paying_count_by_upload" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏付费次数（平台上报）" },
    {id = 111, type= "METRIC_DIVIDE" , name= "mini_game_paying_roi" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [103 ,1] } , data_source_id= 1 , description= "小游戏付费ROI" },
    {id = 112, type= "METRIC_DIVIDE" , name= "mini_game_paying_arpu" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [103 ,99] } , data_source_id= 1 , description= "小游戏付费ARPU" },
    {id = 113, type= "METRIC_DIVIDE" , name= "mini_game_paying_arpu_d1" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [105 ,99] } , data_source_id= 1 , description= "小游戏首日付费ARPU" } ,
    {id = 114, type= "METRIC_SUM" , name= "mini_game_retention_d1" , field_name= "mini_game_retention_d1" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏次日留存人数" } ,
    {id = 115, type= "METRIC_DIVIDE" , name= "mini_game_retention_d1_rate" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [114 ,99] } , data_source_id= 1 , description= "小游戏次日留存率" } ,
    {id = 116, type= "METRIC_DIVIDE" , name= "mini_game_retention_d1_cost" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [1 ,114] } , data_source_id= 1 , description= "小游戏次日留存成本" },
    {id = 117, type= "METRIC_SUM" , name= "mini_game_ad_monetization_users" , field_name= "mini_game_ad_monetization_users" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏广告变现人数" },
    {id = 118, type= "METRIC_SUM" , name= "mini_game_first_day_ad_monetization_users" , field_name= "mini_game_first_day_ad_monetization_users" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏首日广告变现人数" } ,
    {id = 119, type= "METRIC_SUM" , name= "mini_game_first_day_ad_monetization_amount" , field_name= "mini_game_first_day_ad_monetization_amount" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏首日广告变现金额" } ,
    {id = 120, type= "METRIC_DIVIDE" , name= "mini_game_first_day_ad_paying_cost" , field_name= "mini_game_first_day_ad_paying_cost" , value_type= "VALUE_FLOAT" , composition= { metric_id= [1 ,118] } , data_source_id= 1 , description= "小游戏首日广告变现成本" } ,
    {id = 121, type= "METRIC_DIVIDE" , name= "mini_game_income_roi_1" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [119 ,1] } , data_source_id= 1 , description= "小游戏首日广告变现ROI" } ,
    {id = 122, type= "METRIC_DIVIDE" , name= "mini_game_first_day_ad_paying_arpu" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [119 ,99] } , data_source_id= 1 , description= "小游戏首日广告变现ARPU" } ,
    {id = 123, type= "METRIC_SUM" , name= "mini_game_ad_monetization_amount" , field_name= "mini_game_ad_monetization_amount" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description= "小游戏广告变现金额" } ,
    {id = 124, type= "METRIC_DIVIDE" , name= "mini_game_ad_monetization_cost" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [1 ,117] } , data_source_id= 1 , description= "小游戏广告变现成本" } ,
    {id = 125, type= "METRIC_DIVIDE" , name= "mini_game_ad_monetization_roi" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [123 ,1] } , data_source_id= 1 , description= "小游戏广告变现ROI" } ,
    {id = 126, type= "METRIC_DIVIDE" , name= "mini_game_ad_monetization_arpu" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [123 ,117] } , data_source_id= 1 , description= "小游戏广告变现ARPU" } ,
    {id = 127, type= "METRIC_SUM" , name= "pay_count" , field_name= "pay_count" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description = "首次付费数" } ,
    {id = 128, type= "METRIC_DIVIDE" , name= "active_pay_rate" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [127 ,2] } , data_source_id= 1 , description = "首次付费率" } ,
    {id = 129, type= "METRIC_SUM" , name= "game_addiction" , field_name= "game_addiction" , value_type= "VALUE_FLOAT" , composition= { metric_id= [] } , data_source_id= 1 , description = "关键行为数" } ,
    {id = 130, type= "METRIC_DIVIDE" , name= "game_addiction_rate" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [129 ,2] } , data_source_id= 1 , description = "关键行为率" } ,
    {id = 131, type= "METRIC_DIVIDE" , name= "game_addiction_cost" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [1 ,129] } , data_source_id= 1 , description = "关键行为成本" } ,
    {id = 137, type= "METRIC_SUBTRACT" , name= "roi_activated_d1" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [92 ,1] } , data_source_id= 1 , description = "激活首日ROI" } ,
    {id = 138, type= "METRIC_SUBTRACT" , name= "active_pay_cost" , field_name= "" , value_type= "VALUE_FLOAT" , composition= { metric_id= [1 ,127] } , data_source_id= 1 , description = "首次付费成本" },

    {id = 139, type= "METRIC_SUM", name = "activation_cnt", field_name = "activation_cnt", value_type = "VALUE_FLOAT", composition = {metric_id = []}, data_source_id = 7, description = "激活量"},
    {id = 140, type= "METRIC_DIVIDE", name = "activation_rate", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [139, 7]}, data_source_id = 7, description = "激活率"},
    {id = 141, type= "METRIC_SUM", name = "retention_cnt", field_name = "retention_cnt", value_type = "VALUE_FLOAT", composition = {metric_id = []}, data_source_id = 7, description = "次流量"},
    {id = 142, type= "METRIC_DIVIDE", name = "retention_rate", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [141, 139]}, data_source_id = 7, description = "次留率"},
    {id = 143, type= "METRIC_DIVIDE", name = "activation_cost", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [1, 139]}, data_source_id = 7, description = "激活成本"},
    {id = 144, type= "METRIC_DIVIDE", name = "retention_cost", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [1, 141]}, data_source_id = 7, description = "次留成本"},

    {id = 145, type= "METRIC_DISTINCT_COUNT", name = "first_day_monetization_count", field_name = "uid", value_type = "VALUE_FLOAT", composition = {metric_id = []}, data_source_id = 7, description = "首日广告变现人数", filter = {operator_type = "FILTER_OPERATOR_AND", children = [
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "days_from_activation", value = [0]},
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "action_type", value = [4,5]},
    ]}},
    {id = 146, type= "METRIC_DIVIDE", name = "first_day_monetization_rate", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [145, 139]}, data_source_id = 7, description = "首日广告变现渗透率"},

    {id = 147, type= "METRIC_SUM", name = "first_day_monetization_amount", field_name = "total_shared_income", value_type = "VALUE_FLOAT", composition = {metric_id = []},  data_source_id = 7,description = "首日广告变现金额", filter = {operator_type = "FILTER_OPERATOR_AND", children = [
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "days_from_activation", value = [0]},
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "action_type", VALUE = [4,5]},
    ]}},
    {id = 148, type= "METRIC_DIVIDE", name = "first_day_monetization_roi", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [147, 139]},  data_source_id = 7,description = "首日广告变现ROI"},

    {id = 149, type= "METRIC_SUM", name = "3_day_monetization_amount", field_name = "total_shared_income", value_type = "VALUE_FLOAT", composition = {metric_id = []},  data_source_id = 7,description = "3日累计广告变现金额",  filter = {operator_type = "FILTER_OPERATOR_AND", children = [
        {operator_type = "FILTER_OPERATOR_LESS", value_type = "VALUE_INTEGER", name = "days_from_activation", value = [3]},
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "action_type", VALUE = [4,5]},
    ]}},
    {id = 150, type= "METRIC_DIVIDE", name = "3_day_monetization_roi", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [149, 1]},  data_source_id = 7,description = "3日广告变现ROI"},

    {id = 151, type= "METRIC_SUM", name = "7_day_monetization_amount", field_name = "total_shared_income", value_type = "VALUE_FLOAT", composition = {metric_id = []}, data_source_id = 7, description = "7日广告累计变现金额", filter = {operator_type = "FILTER_OPERATOR_AND", children = [
        {operator_type = "FILTER_OPERATOR_LESS", value_type = "VALUE_INTEGER", name = "days_from_activation", value = [7]},
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "action_type", VALUE = [4,5]},
    ]}},
    {id = 152, type= "METRIC_DIVIDE", name = "7_day_monetization_roi", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [151, 1]},  data_source_id = 7,description = "7日广告变现ROI"},

    {id = 153, type= "METRIC_SUM", name = "monetization_amount", field_name = "total_shared_income", value_type = "VALUE_FLOAT", composition = {metric_id = []}, data_source_id = 7, description = "广告累计变现金额", filter = {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "action_type", VALUE = [4,5]}},
    {id = 154, type= "METRIC_DIVIDE", name = "monetization_roi", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [153, 1], data_source_id = 7, description = "累计广告变现ROI"}},

    {id = 155, type= "METRIC_DISTINCT_COUNT", name = "first_day_pay_count", field_name = "uid", value_type = "VALUE_FLOAT", composition = {metric_id = []}, data_source_id = 7, description = "激活首日付费人数", filter = {operator_type = "FILTER_OPERATOR_AND", children = [
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "days_from_activation", value = [0]},
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "action_type", value = [3]},
    ]}},
    {id = 156, type = "METRIC_DIVIDE", name = "first_day_pay_rate", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [155, 139]}, data_source_id = 7, description = "激活首日付费率"},
    {id = 157, type = "METRIC_DIVIDE", name = "first_day_pay_cost", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [1, 155]}, data_source_id = 7, description = "激活首日付费成本"},
    {id = 158, type = "METRIC_SUM", name = "first_day_pay_amount", field_name = "total_shared_income", value_type = "VALUE_FLOAT", composition = {metric_id = []}, data_source_id = 7, description = "激活首日付费金额", filter = {operator_type = "FILTER_OPERATOR_AND", children = [
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "days_from_activation", value = [0]},
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "action_type", value = [3]},
    ]}},
    {id = 159, type = "METRIC_DIVIDE", name = "first_day_pay_roi", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [158, 1]}, data_source_id = 7, description = "激活首日付费ROI"},
    {id = 160, type = "METRIC_SUM", name = "3_day_pay_amount", field_name = "total_shared_income", value_type = "VALUE_FLOAT", composition = {metric_id = []}, data_source_id = 7, description = "激活3日广告累计付费金额", filter = {operator_type = "FILTER_OPERATOR_AND", children = [
        {operator_type = "FILTER_OPERATOR_LESS", value_type = "VALUE_INTEGER", name = "days_from_activation", value = [3]},
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "action_type", value = [3]},
    ]}},
    {id = 161, type = "METRIC_DIVIDE", name = "3_day_pay_roi", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [160, 1]}, data_source_id = 7, description = "3日广告付费ROI"},
    {id = 162, type = "METRIC_SUM", name = "7_day_pay_amount", field_name = "total_shared_income", value_type = "VALUE_FLOAT", composition = {metric_id = []}, data_source_id = 7, description = "激活7日广告累计付费金额", filter = {operator_type = "FILTER_OPERATOR_AND", children = [
        {operator_type = "FILTER_OPERATOR_LESS", value_type = "VALUE_INTEGER", name = "days_from_activation", value = [7]},
        {operator_type = "FILTER_OPERATOR_IN", value_type = "VALUE_INTEGER", name = "action_type", value = [3]},
    ]}},
    {id = 163, type = "METRIC_DIVIDE", name = "7_day_pay_roi", field_name = "", value_type = "VALUE_FLOAT", composition = {metric_id = [162, 1]}, data_source_id = 7, description = "7日广告付费ROI"},
    # TODO {type = "METRIC_SUM", name = "first_day_mix_monetization_amount"}
]

dimensions = [
    {id = 1, name = "partition_time",field_name = "partition_time",value_type = "VALUE_STRING",data_source_id = 1,description = "数据时间"},
    {id = 2, name = "account_id",field_name = "account_id",value_type = "VALUE_STRING",data_source_id = 1,description = "账户id"},
    {id = 3, name = "platform",field_name = "platform",value_type = "VALUE_STRING",data_source_id = 1,description = "平台渠道"},
    {id = 4, name = "campaign_id",field_name = "campaign_id",value_type = "VALUE_STRING",data_source_id = 1,description = "一级id"},
    {id = 5, name = "campaign_name",field_name = "campaign_name",value_type = "VALUE_STRING",data_source_id = 1,description = "一级名称"},
    {id = 6, name = "ad_id",field_name = "ad_id",value_type = "VALUE_STRING",data_source_id = 1,description = "二级id"},
    {id = 7, name = "ad_name",field_name = "ad_name",value_type = "VALUE_STRING",data_source_id = 1,description = "二级名称"},
    {id = 8, name = "creative_id",field_name = "creative_id",value_type = "VALUE_STRING",data_source_id = 1,description = "三级id"},
    {id = 10, name = "creative_name",field_name = "creative_name",value_type = "VALUE_STRING",data_source_id = 1,description = "三级名称"},
    {id = 11, name = "time_by_hour",field_name = "formatDateTime(report_dist.partition_time, '%Y-%m-%d %H:00:00')",value_type = "VALUE_STRING",data_source_id = 1,description = "分时"},
    {id = 12, name = "time_by_day",field_name = "formatDateTime(report_dist.partition_time, '%Y-%m-%d 00:00:00')",value_type = "VALUE_STRING",data_source_id = 1,description = "分天"},
    {id = 13, name = "platform",field_name = "platform",value_type = "VALUE_STRING",data_source_id = 2,description = "平台渠道"},
    {id = 14, name = "target_type",field_name = "target_type",value_type = "VALUE_STRING",data_source_id = 2,description = "投放目标类型"},
    {id = 15, name = "platform_category",field_name = "platform_category",value_type = "VALUE_STRING",data_source_id = 2,description = "平台渠道类别"},
    {id = 16, name = "account_id",field_name = "account_id",value_type = "VALUE_STRING",data_source_id = 2,description = "账户id"},
    {id = 17, name = "agency_id",field_name = "agency_id",value_type = "VALUE_INTEGER",data_source_id = 2,description = "代理商维表id"},
    {id = 18, name = "agency_id",field_name = "id", value_type = "VALUE_INTEGER", data_source_id = 3,description = "代理商维表id"},
    {id = 19, name = "agency_name",field_name = "name",value_type = "VALUE_STRING",data_source_id = 3,description = "代理商名称"},
    {id = 20, name = "material_id",field_name = "material_id",value_type = "VALUE_STRING",data_source_id = 4,description = "素材id"},
    {id = 21, name = "time_by_day",field_name = "formatDateTime(material_report_dist.partition_time, '%Y-%m-%d 00:00:00')",value_type = "VALUE_STRING",data_source_id = 4,description = "分天"},
    {id = 22, name = "account_id",field_name = "account_id",value_type = "VALUE_STRING",data_source_id = 4,description = "账户id"},
    {id = 23, name = "platform",field_name = "platform",value_type = "VALUE_STRING",data_source_id = 4,description = "平台渠道"},
    {id = 24, name = "material_type",field_name = "material_type",value_type = "VALUE_STRING",data_source_id = 4,description = "素材类型"},
    {id = 25, name = "partition_time",field_name = "partition_time",value_type = "VALUE_STRING",data_source_id = 4,description = "\t 数据时间"},
    {id = 26, name = "imp_date",field_name = "imp_date",value_type = "VALUE_STRING",data_source_id = 5,description = "数据时间"},
    {id = 27, name = "category_name",field_name = "category_name",value_type = "VALUE_STRING",data_source_id = 5,description = "渠道大类"},
    {id = 28, name = "enterprise_name",field_name = "enterprise_name",value_type = "VALUE_STRING",data_source_id = 5,description = "渠道小类"},
    {id = 29, name = "product_name",field_name = "product_name",value_type = "VALUE_STRING",data_source_id = 5,description = "投放产品"},
    {id = 30, name = "channel_name",field_name = "channel_name",value_type = "VALUE_STRING",data_source_id = 5,description = "渠道名"},
    {id = 31, name = "channel_id",field_name = "channel_id",value_type = "VALUE_STRING",data_source_id = 5,description = "渠道号"},
    {id = 32, name = "vendor_name",field_name = "vendor_name",value_type = "VALUE_STRING",data_source_id = 5,description = "代理名称"},
    {id = 36, name = "app_product_name",field_name = "app_product_name",value_type = "VALUE_STRING",data_source_id = 2,description = "投放产品标签"},
    {id = 37, name = "agency_name",field_name = "agency_name",value_type = "VALUE_STRING",data_source_id = 2,description = "代理商标签"},
    {id = 38, name = "operate_user_id",field_name = "operate_user_id",value_type = "VALUE_INTEGER",data_source_id = 2,description = "用户维表id"},
    {id = 39, name = "operate_user_name",field_name = "nick_name",value_type = "VALUE_STRING",data_source_id = 6,description = "用户昵称"},
    {id = 40, name = "operate_user_id",field_name = "id", value_type = "VALUE_INTEGER", data_source_id = 6, description = "用户维表id"}
]

